{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nexport const authApi = createApi({\n  reducerPath: 'authApi',\n  baseQuery: fetchBaseQuery({\n    // baseUrl: 'https://redux-user-auth.up.railway.app/',\n    baseUrl: 'http://localhost:8000/admin/',\n    // baseUrl: 'http://127.0.0.1:5000/',\n    prepareHeaders: (headers, _ref) => {\n      let {\n        getState\n      } = _ref;\n      const token = getState().auth.userToken;\n\n      if (token) {\n        headers.set('authorization', `Bearer ${token}`);\n        return headers;\n      }\n    }\n  }),\n  endpoints: build => ({\n    getDetails: build.query({\n      query: () => ({\n        url: 'users/1',\n        method: 'GET'\n      })\n    })\n  })\n}); // export react hook\n\nexport const {\n  useGetDetailsQuery\n} = authApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","authApi","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","getState","token","auth","userToken","set","endpoints","build","getDetails","query","url","method","useGetDetailsQuery"],"sources":["C:/Users/SiThu/Documents/sithu/react/redux-user-auth/frontend/src/app/services/auth/authService.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const authApi = createApi({\r\n  reducerPath: 'authApi',\r\n  baseQuery: fetchBaseQuery({\r\n    // baseUrl: 'https://redux-user-auth.up.railway.app/',\r\n    baseUrl : 'http://localhost:8000/admin/',\r\n\r\n    // baseUrl: 'http://127.0.0.1:5000/',\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = getState().auth.userToken\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n        return headers\r\n      }\r\n    },\r\n  }),\r\n  endpoints: (build) => ({\r\n    getDetails: build.query({\r\n      query: () => ({\r\n        url: 'users/1',\r\n        method: 'GET',\r\n      }),\r\n    }),\r\n  }),\r\n})\r\n\r\n// export react hook\r\nexport const { useGetDetailsQuery } = authApi\r\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AAEA,OAAO,MAAMC,OAAO,GAAGF,SAAS,CAAC;EAC/BG,WAAW,EAAE,SADkB;EAE/BC,SAAS,EAAEH,cAAc,CAAC;IACxB;IACAI,OAAO,EAAG,8BAFc;IAIxB;IACAC,cAAc,EAAE,CAACC,OAAD,WAA2B;MAAA,IAAjB;QAAEC;MAAF,CAAiB;MACzC,MAAMC,KAAK,GAAGD,QAAQ,GAAGE,IAAX,CAAgBC,SAA9B;;MACA,IAAIF,KAAJ,EAAW;QACTF,OAAO,CAACK,GAAR,CAAY,eAAZ,EAA8B,UAASH,KAAM,EAA7C;QACA,OAAOF,OAAP;MACD;IACF;EAXuB,CAAD,CAFM;EAe/BM,SAAS,EAAGC,KAAD,KAAY;IACrBC,UAAU,EAAED,KAAK,CAACE,KAAN,CAAY;MACtBA,KAAK,EAAE,OAAO;QACZC,GAAG,EAAE,SADO;QAEZC,MAAM,EAAE;MAFI,CAAP;IADe,CAAZ;EADS,CAAZ;AAfoB,CAAD,CAAzB,C,CAyBP;;AACA,OAAO,MAAM;EAAEC;AAAF,IAAyBjB,OAA/B"},"metadata":{},"sourceType":"module"}